<!DOCTYPE html>
<html>
<head>
  <title>
      R
  </title>
  <link rel="stylesheet" href="../application.css">

<meta name="Description" content="JS">
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
</head>

<body id="com">

<div id="not-footer">
  <div id="header">
    <div class="clearfix">
      <h1 class="site-logo"></h1>
    </div>
  </div>

  <div id="content-wrapper">
    <div class="site">
      <div class="content-header small">
        <h6 class="breadcrumbs">
          R
        </h6>
        <div class="search-form small right">
        </div>
      </div>
      <div class="article js-hide-during-search">
        <h2>R</h2>
        <div id="article-platform-nav">
  <ul>
    <li class="platform-mac">
      <a href="#platform-mac" data-platform="mac">
        mac
      </a>
    </li>
    <li class="platform-windows">
      <a href="#platform-windows" data-platform="windows">
        windows
      </a>
    </li>
    <li class="platform-linux">
      <a href="#platform-linux" data-platform="linux">
        linux
      </a>
    </li>
    <li class="platform-all">
      <a href="#platform-all" data-platform="all">
        all
      </a>
    </li>
  </ul>
</div>


        <div class="article-body content-body wikistyle markdown-format">
          <div class='intro'>

          </div>

          <div class="intro">

</div>

<p>
<a href="http://r-pkgs.had.co.nz/" target="_blank">The R packages book</a>
</p>

<h3>Creating a package</h3>

<pre class="code">
> install.packages("devtools")
> library(devtools)
> create("Rtest")
</pre>

<h3>Verifying a package</h3>
<p>
From within the package main directory:
</p>

<pre class="code">
> library(devtools)
> check()
</pre>

<h3>Creating a sample R file and function within a package</h3>
<p>
From within the package R directory, create a file such as utils.R:
</p>

<pre class="code">
#' A sample function
#'
#' This function does not take any input and return a sample message.
#'
#' @export
test_it <- function() {
Â  print("test it...")
}
</pre>

<h3>Creating a sample R test within a package</h3>
<p>
From within the package tests directory, create a directory called testthat and a file such as testthat.R 
</p>

<pre class="code">
library(testthat)
library(Rtest)

test_check("Rtest")
</pre>

<p>
From within the testthat directory, create a file such as: test_utils.R:
</p>

<pre class="code">
r <- test_it()
expect_equal(r, "test it...")
</pre>

<h3>Creating a sample data file within a package</h3>

<pre class="code">
> library(devtools)
> diamond_gene <- sample(1000)
> use_data(diamond_gene)
</pre>

<p>
This will create the file: data/diamond_gene.rda
</p>

<h3>Documenting a sample data</h3>

<p>
In the R directory, create a file such as: data.R
</p>

<pre class="code">
#' Prices of 50,000 round cut diamonds.
#'
#' A dataset containing the prices and other attributes of almost 54,000
#' diamonds.
#'
#' @format A data frame with 53940 rows and 10 variables:
#' \describe{
#'   \item{price}{price, in US dollars}
#'   \item{carat}{weight of the diamond, in carats}
#'   ...
#' }
#' @source \url{http://www.diamondse.info/}
"diamond_gene"
</pre>

<h3>List the content of a package</h3>

<pre class="code">
> library(Rtest)
> lsf.str("package:Rtest")
test_graph : function ()
test_hashmap : function ()
test_it : function ()
</pre>

<h3>Using a local package</h3>

<pre class="code">
> install.packages("/Users/pascal/R/Rtest", repos=NULL, type="source")
> library(Rtest)
> test_it()
[1] "test it..."
</pre>

<h3>Using a package on GitHub</h3>

<pre class="code">
> library(devtools)
> install_github("pledru/Rtest")
> library(Rtest)
> test_it()
[1] "test it..."
</pre>

<h3>Continuous integration with Travis</h3>

<li>
Register with <a href="https://travis-ci.org/" target="_blank">Travis</a>
Create a .travis.yml such as:
</li>

<pre class="code">
language: r
r:
  - release
  - devel
r_github_packages: nathan-russell/hashmap
</pre>


</body>
</html>

